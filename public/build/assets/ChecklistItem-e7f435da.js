import{W as j,j as e,d as b}from"./app-6bf46f0f.js";import{C as g}from"./Checkbox-d48023ac.js";import{P as m}from"./PrimaryButton-c397a1f6.js";import{T as v}from"./TextArea-9f8298f7.js";import{F as y}from"./index.es-a437b02f.js";function I({taskId:h,index:s,item:r,onItemEdited:x,isShowingForm:n,onShow:p,onClose:o}){const{data:c,setData:l,patch:C,errors:N,processing:i,recentlySuccessful:w}=j({text:r.text,checked:r.checked,index:s}),u=t=>{t.preventDefault(),p(s)},k=t=>{l("checked",t.target.checked),a(t)},a=t=>{t.preventDefault();const d={text:c.text,checked:t.target.checked,index:c.index};axios.patch(route("tasks.checklist.update",h),d).then(f=>{o(),x(d,s)}).catch(f=>{})};return e.jsxs("div",{className:"block w-full",children:[!n&&e.jsx("form",{onSubmit:a,className:"space-y-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(g,{name:s,className:"text-gray-500",checked:c.checked,onChange:t=>k(t),disabled:i}),e.jsx("div",{className:"text-gray-500",children:r.text}),e.jsx(b,{onClick:u,children:e.jsx(y,{icon:"pen-to-square"})})]})}),n&&e.jsxs("form",{onSubmit:a,className:"space-y-4",children:[e.jsx(v,{name:s,className:"mt-1 block w-full",rows:"2",onChange:t=>l("text",t.target.value),value:c.text}),e.jsxs("div",{className:"flex items-center gap-4 justify-end",children:[e.jsx(m,{type:"submit",onClick:a,disabled:i,children:"Save"}),e.jsx(m,{type:"button",onClick:o,children:"Back"})]})]})]})}export{I as default};
